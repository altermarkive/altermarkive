name: Automation Script

on: [push]

jobs:
  pipeline:
    name: Pipeline
    runs-on: ubuntu-18.04
    steps:
      - name: Initiating
        uses: actions/checkout@v1
      - name: Preparing
        run: |
          sudo add-apt-repository universe
          sudo apt-get -yq update
          sudo apt-get -yq install apt-transport-https wget
          wget -q https://packages.microsoft.com/config/ubuntu/18.04/packages-microsoft-prod.deb -O packages-microsoft-prod.deb
          sudo dpkg -i packages-microsoft-prod.deb
          sudo apt-get -yq update
          sudo apt-get -yq install dotnet-sdk-3.1
      - name: Building
        env:
          DOTNET_CLI_TELEMETRY_OPTOUT: 1
        run: |
          cd miscellaneous
          dotnet publish -c debug -o published -r linux-x64 /p:DocumentationFile="$(ApplicationName).xml"
